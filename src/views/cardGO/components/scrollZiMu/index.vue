<template>
  <div class="zuiwai">
    <div ref="lunbo" class="lunbo">
      <p ref="spanRef">
        <span class="img">
          <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
            <g clip-path="url(#clip0_420_3645)">
              <path
                d="M7.38286 2.89001L4.60518 4.44126C4.50148 4.51499 4.37724 4.55428 4.25 4.55358H1.21429C0.892237 4.55358 0.583379 4.68151 0.355656 4.90924C0.127933 5.13696 0 5.44582 0 5.76787L0 11.2322C0 11.5542 0.127933 11.8631 0.355656 12.0908C0.583379 12.3185 0.892237 12.4464 1.21429 12.4464H4.25C4.3762 12.4464 4.49929 12.4856 4.60214 12.5588L7.37982 14.11C7.56127 14.24 7.77506 14.3175 7.99769 14.334C8.22032 14.3504 8.44317 14.3052 8.64176 14.2032C8.84035 14.1013 9.00699 13.9465 9.12337 13.756C9.23974 13.5655 9.30135 13.3466 9.30143 13.1234V3.87662C9.30096 3.65388 9.23923 3.43557 9.12301 3.24556C9.00678 3.05556 8.84054 2.90118 8.64246 2.79932C8.44438 2.69746 8.2221 2.65204 7.99994 2.66803C7.77778 2.68403 7.5643 2.76082 7.38286 2.89001ZM13.5332 14.7384C13.4053 14.7386 13.2805 14.6984 13.1768 14.6235C13.073 14.5486 12.9956 14.4429 12.9555 14.3213C12.9155 14.1998 12.9148 14.0687 12.9537 13.9468C12.9926 13.8249 13.069 13.7184 13.172 13.6425C13.98 13.0505 14.6372 12.2763 15.0902 11.3829C15.5432 10.4894 15.7793 9.50176 15.7793 8.50001C15.7793 7.49826 15.5432 6.51062 15.0902 5.61715C14.6372 4.72369 13.98 3.94955 13.172 3.35751C13.1076 3.31027 13.0531 3.25081 13.0117 3.18253C12.9703 3.11424 12.9428 3.03847 12.9307 2.95954C12.9185 2.88062 12.9221 2.80007 12.9411 2.72251C12.9601 2.64495 12.9942 2.57189 13.0414 2.50751C13.0887 2.44313 13.1481 2.38868 13.2164 2.34728C13.2847 2.30587 13.3605 2.27832 13.4394 2.2662C13.5183 2.25408 13.5989 2.25762 13.6764 2.27663C13.754 2.29564 13.827 2.32973 13.8914 2.37697C14.8538 3.08174 15.6365 4.00342 16.1761 5.06727C16.7156 6.13112 16.9968 7.30717 16.9968 8.50001C16.9968 9.69285 16.7156 10.8689 16.1761 11.9327C15.6365 12.9966 14.8538 13.9183 13.8914 14.623C13.7873 14.6985 13.6618 14.7389 13.5332 14.7384Z"
                fill="url(#paint0_linear_420_3645)"
              />
              <path
                d="M11.812 12.2248C11.6936 12.2244 11.578 12.1894 11.4793 12.1242C11.3806 12.059 11.3032 11.9663 11.2564 11.8576C11.2096 11.749 11.1956 11.629 11.2161 11.5125C11.2366 11.396 11.2907 11.288 11.3718 11.2018C12.0591 10.47 12.4416 9.50388 12.4416 8.49999C12.4416 7.4961 12.0591 6.52995 11.3718 5.79821C11.317 5.7402 11.2741 5.67197 11.2457 5.5974C11.2172 5.52284 11.2037 5.4434 11.206 5.36362C11.2105 5.20251 11.2789 5.0498 11.3961 4.9391C11.5132 4.82839 11.6695 4.76876 11.8306 4.77331C11.9104 4.77557 11.989 4.79352 12.0618 4.82613C12.1347 4.85874 12.2004 4.90538 12.2552 4.96338C13.1559 5.92065 13.6575 7.18555 13.6575 8.49999C13.6575 9.81443 13.1559 11.0793 12.2552 12.0366C12.198 12.0965 12.1292 12.1442 12.053 12.1765C11.9768 12.2089 11.8948 12.2253 11.812 12.2248Z"
                fill="url(#paint1_linear_420_3645)"
              />
            </g>
            <defs>
              <linearGradient
                id="paint0_linear_420_3645"
                x1="8.49839"
                y1="2.25916"
                x2="8.49839"
                y2="14.7384"
                gradientUnits="userSpaceOnUse"
              >
                <stop offset="0.0001" stop-color="#F59EFF" />
                <stop offset="1" stop-color="#637DFF" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_420_3645"
                x1="12.4316"
                y1="4.77307"
                x2="12.4316"
                y2="12.2248"
                gradientUnits="userSpaceOnUse"
              >
                <stop offset="0.0001" stop-color="#F59EFF" />
                <stop offset="1" stop-color="#637DFF" />
              </linearGradient>
              <clipPath id="clip0_420_3645">
                <rect width="17" height="17" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </span>
        <span class="wenzi">
          {{ title }}
        </span>
      </p>
    </div>
  </div>
</template>
<script setup>
import { onMounted, ref } from 'vue'
const { title } = defineProps({
  title: { type: String, required: true }
})
const lunbo = ref()
onMounted(() => {
  // spanRef.value.style.width = `${spanRef.value.offsetWidth}px`
  requestAnimationFrame(scroll)
})
const spanRef = ref()
const scroll = () => {
  let offsetLeft = Number(spanRef.value.offsetLeft - 2)
  const xin = Math.abs(spanRef.value.offsetLeft) > lunbo.value.offsetWidth
  if (xin) {
    offsetLeft = lunbo.value.offsetWidth
  }
  spanRef.value.style.left = `${offsetLeft}px`
  requestAnimationFrame(scroll)
}
</script>
<style lang="scss" scoped>
.zuiwai {
  $LunBo_height: 40px;
  position: relative;
  position: absolute;
  left: 0px;
  top: 70px;
  z-index: 50;
  width: 100%;
  overflow: hidden;
  background-color: rgba(0, 0, 0, 0.6);
  height: $LunBo_height;
  .lunbo {
    position: absolute;
    left: 54%;
    top: 0;
    transform: translateX(-50%);
    overflow: hidden;
    z-index: 9;
    width: 100%;

    height: $LunBo_height;
    > p {
      display: inline;
      position: absolute;
      left: 0;
      top: 0;
      width: auto;
      height: $LunBo_height;
      line-height: $LunBo_height;
      // @include Myflex(flex-start);
      .img {
        position: relative;
        width: 17px;
        height: 100%;
        margin-right: 43px;
        svg {
          position: absolute;
          top: -3px;
          // margin-top: 8px;
        }
      }
      .wenzi {
        // margin-top: -5px;
        transform: translateX(-5px);
      }
      span {
        font: normal normal 400 14px 'PingFang SC';
        color: white;
        line-height: $LunBo_height;
      }
    }
  }
}
</style>
